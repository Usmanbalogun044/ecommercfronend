<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admindash</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/8f2d34ce9f.js"
      crossorigin="anonymous"
    ></script>    
    <script src="{{ asset('js/tailwind.js') }}"></script>

    <!-- <script src="tailwind/tailwind.js"></script> -->
    <style>
      body {
        font-family: "Montserrat", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-style: normal;
      }
      .active {
        background-color: #1d4ed8;
        color: white;
      }
      .table-container {
        max-height: calc(100vh - 200px);
        overflow-y: auto;
      }
      .status-paid {
        color: #10b981;
      }

      .status-cancel {
        color: #ef4444;
      }

      .status-pending {
        color: #f59e0b;
      }

      span.status-paid,
      span.status-cancelled,
      span.status-pending {
        display: inline-flex;
        align-items: center;
      }

      span i {
        margin-right: 4px;
      }
      .pagination-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
      }

      .pagination-button {
        background-color: white;
        border: 1px solid #ccc;
        padding: 5px 10px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .pagination-button:hover {
        background-color: #eee;
      }

      .page-number {
        background-color: white;
        border: 1px solid #ccc;
        padding: 5px 10px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .page-number.active {
        background-color: #1d4ed8;
        color: white;
      }

      .page-number:hover {
        background-color: #eee;
      }
    </style>
  </head>
  <body class="">
    <div class="lg:flex lg:space-x-64">
      <section class="">
        <div class="block lg:hidden py-4 px-6 bg-white z-10 relative border-b border-gray-200">
          <div class="flex justify-between items-center">
            <button id="bar">
              <i class="fa-solid fa-bars"></i>
            </button>
            <div class="flex items-center space-x-4">
              <button id="search-icon">
                <i class="fa-regular fa-bell"></i>
              </button>
              <button>
                <img src="images/img_avatar1.png" alt="" class="w-7 h-7 rounded-full">
              </button>
            </div>
          </div>
        </div>
        <div
          id="nav"
          class="fixed top-0 left-0 transform -translate-x-full lg:translate-x-0 flex flex-col justify-between space-y-7 h-screen bg-white w-64 px-4 py-10 transition-transform duration-300 ease-in-out z-30 border-r border-gray-200"
        >
          <div class="space-y-10">
            <div class="text-center w-full">
              <p
                class="text-blue-700 text-2xl py-1.5 font-semibold"
              >
                MatthiOla
              </p>
            </div>
            <div class="w-full space-y-6">
              <a
                href="Admindashboard.html"
                id="home-btn"
                class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
              >
                <i class="fa-solid fa-house"></i>
                <p class="">Dashboard</p>
              </a>
              <a
                href="adminproduct.html"
                id="product-btn"
                class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
              >
                <i class="fa-solid fa-box"></i>
                <p class="">Product</p>
              </a>
              <a
                href="Admincustomers.html"
                id="customers-btn"
                class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
              >
                <i class="fa-solid fa-user-group"></i>
                <p class="">Customers</p>
              </a>
              <a
                href=""
                id="orders-btn"
                class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
              >
                <i class="fa-solid fa-cart-shopping"></i>
                <p class="">Orders</p>
              </a>
            </div>
          </div>
          <div class="space-y-4">
            <a
              href="Adminsettings.html"
              id="settings-btn"
              class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
            >
              <i class="fa-solid fa-gear"></i>
              <p class="">Settings</p>
            </a>
            <button
              class="flex items-center font-medium space-x-3 w-full rounded-md py-2 px-5 hover:bg-blue-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105"
            >
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <p class="">Logout</p>
            </button>
          </div>
        </div>
      </section>

      <section id="" class="h-screen w-full space-y-4">
        <div class="flex items-center justify-between sticky top-0 bg-white border-b border-gray-200 py-4 px-5 lg:px-7">
          <div
            class="relative w-full mx-auto container lg:container-none lg:mx-0 lg:w-auto"
          >
            <input
              type="text"
              placeholder="Search"
              class="w-full py-2 rounded-md pl-10 pr-12 focus:outline-none placeholder:text-sm border border-gray-200"
            />
            <i
              class="fa-solid fa-magnifying-glass text-sm absolute transform -translate-y-1/2 left-3 top-1/2 text-gray-400"
            ></i>
          </div>
          <div class="hidden lg:flex items-center space-x-4">
            <button class="bg-white rounded-md shadow py-2 px-4">
              <i class="fa-regular fa-bell text-gray-400"></i>
            </button>
            <button
              class="flex items-center space-x-1 bg-white py-2 px-3 rounded-md border border-gray-200"
            >
              <img
                src="images/img_avatar1.png"
                alt=""
                class="w-7 h-7 rounded-full"
              />
              <p class="font-medium">dxrkfacee</p>
            </button>
          </div>
        </div>
        <div class="flex justify-between items-center space-x-4">
          <h1 class="font-semibold text-lg whitespace-nowrap lg:text-2xl">
            Order History
          </h1>

          <input
            type="month"
            class="appearance-none bg-white border border-gray-300 rounded-md py-2 px-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer"
            placeholder="Select date"
          />
        </div>

        <div class="table-container">
          <table class="min-w-full bg-white">
            <thead class="">
              <tr>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  #
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Order ID
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Product
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Customer
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Status
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Total
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                >
                  Date
                </th>
                <th
                  class="py-3 px-5 lg:px-1 border-b-2 border-gray-300 text-left text-xs leading-4 font-medium text-gray-600 uppercase tracking-wider whitespace-nowrap"
                ></th>
              </tr>
            </thead>
            <tbody id="order-table-body"></tbody>
          </table>
        </div>

        <div
          id="messageBox"
          class="hidden fixed inset-0 flex items-center justify-center left-40"
        >
          <div class="rounded-sm bg-white w-80 shadow-2xl space-y-7 relative">
            <div
              class="absolute top-0 right-0 bg-black text-white flex justify-between px-3 py-2 items-center w-full"
            >
              <p class="text-white font-medium text-xs">Order #4387</p>
              <button id="closeMessageBox" class="text-white">
                <i class="fa-solid fa-times"></i>
              </button>
            </div>
            <div id="messageContent" class="text-lg">
              <!-- Your customizable message content will be inserted here -->
            </div>
          </div>
        </div>

        <div
          class="pagination-container flex justify-between items-center py-1"
        >
          <button
            id="prev"
            class="pagination-button border border-gray-200 text-gray-500 rounded-md"
          >
            Previous
          </button>
          <div id="pagination" class="pagination flex space-x-1"></div>
          <button
            id="next"
            class="pagination-button border border-gray-200 text-gray-500 rounded-md"
          >
            Next
          </button>
        </div>
      </section>
    </div>

    <script>
      document.getElementById("bar").addEventListener("click", function () {
        let nav = document.getElementById("nav");
        nav.classList.toggle("-translate-x-full");
        nav.classList.toggle("translate-x-0");
      });

      const currentPaget = window.location.pathname.split("/").pop();
      const buttons = {
        "Admindashboard.html": document.getElementById("home-btn"),
        "adminproduct.html": document.getElementById("product-btn"),
        "Adminorders.html": document.getElementById("orders-btn"),
        "Admincustomers.html": document.getElementById("customers-btn"),
      };

      if (buttons[currentPaget]) {
        buttons[currentPaget].classList.add("bg-blue-700", "text-white");
      }

      document.addEventListener("click", function (event) {
        let nav = document.getElementById("nav");
        let bar = document.getElementById("bar");

        // Check if the click is outside the sidebar and bar button
        if (
          !nav.contains(event.target) &&
          !bar.contains(event.target) &&
          nav.classList.contains("translate-x-0")
        ) {
          nav.classList.add("-translate-x-full");
          nav.classList.remove("translate-x-0");
        }
      });

      const orders = [
        {
          id: 1,
          orderId: "#654398RT",
          product: "Air Jordan",
          customer: "Wendy Curtis",
          date: "12/08/23",
          total: "$23,000",
          status: "Paid",
          ellipsis:
            '<i class="fas fa-ellipsis-h cursor-pointer ellipsis-button"></i>',
        },
      ];

      const rowsPerPage = 10;
      let currentPage = 1;
      const totalPages = Math.ceil(orders.length / rowsPerPage);

      const orderTableBody = document.getElementById("order-table-body");
      const paginationContainer = document.getElementById("pagination");
      const prevButton = document.getElementById("prev");
      const nextButton = document.getElementById("next");

      function displayPage(page) {
        orderTableBody.innerHTML = "";

        const startIndex = (page - 1) * rowsPerPage;
        const endIndex = Math.min(startIndex + rowsPerPage, orders.length);

        // add rows
        for (let i = startIndex; i < endIndex; i++) {
          const order = orders[i];
          const row = document.createElement("tr");
          row.className = "hover:bg-gray-100";
          row.innerHTML = `
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.id
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.orderId
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.product
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.customer
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">
        <span class="px-2 text-xs leading-5 font-semibold rounded-full ${
          order.status === "Paid"
            ? "status-paid"
            : order.status === "Pending"
            ? "status-pending"
            : "status-cancel"
        }">
          ${
            order.status === "Paid"
              ? '<i class="fas fa-check text-green-500"></i>'
              : ""
          }
          ${
            order.status === "Pending"
              ? '<i class="fas fa-clock text-yellow-500"></i>'
              : ""
          }
          ${
            order.status === "Cancel"
              ? '<i class="fas fa-times text-red-500"></i>'
              : ""
          }
          ${order.status}
        </span>
      </td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.total
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap">${
        order.date
      }</td>
      <td class="py-4 px-5 lg:px-1 text-sm leading-5 text-gray-700 whitespace-nowrap" data-customer="${
        order.customer
      }">${order.ellipsis}</td>
    `;
          orderTableBody.appendChild(row);
        }

        paginationContainer.innerHTML = "";
        for (let i = 1; i <= totalPages; i++) {
          const pageButton = document.createElement("button");
          pageButton.textContent = i;
          pageButton.className = `page-number ${i === page ? "active" : ""}`;
          pageButton.addEventListener("click", () => {
            currentPage = i;
            displayPage(currentPage);
            bindEllipsisClickHandlers();
          });
          paginationContainer.appendChild(pageButton);
        }

        prevButton.disabled = page === 1;
        nextButton.disabled = page === totalPages;

        bindEllipsisClickHandlers();
      }

      function bindEllipsisClickHandlers() {
        const ellipsisButtons = document.querySelectorAll(".ellipsis-button");
        const messageBox = document.getElementById("messageBox");
        const closeMessageBox = document.getElementById("closeMessageBox");
        const messageContent = document.getElementById("messageContent");

        ellipsisButtons.forEach(function (button) {
          button.addEventListener("click", function () {
            const customerName = button.closest("td").dataset.customer;
            messageContent.innerHTML = `
        <div class="flex flex-col space-y-5 px-3 py-5">
          <div class="space-y-2">
            <div class="flex items-center space-x-2 text-gray-500">
              <i class="fa-solid fa-user text-xs"></i>
              <p class="text-xs">${customerName}</p>
            </div>
            <div class="flex items-center space-x-2 text-gray-500">
              <i class="fa-solid fa-envelope text-xs"></i>
              <p class="text-xs">mail@mailer.com</p>
            </div>
            <div class="flex items-center space-x-2 text-gray-500">
              <i class="fa-solid fa-phone text-xs"></i>
              <p class="text-xs">${customerName}</p>
            </div>
            <div class="flex items-center space-x-2 text-gray-500">
              <i class="fa-solid fa-location-pin text-xs"></i>
              <p class="text-xs">
                123 Maple Street Springfield, IL 62704 USA
              </p>
            </div>
          </div>
          <div class="flex flex-col space-y-3">
            <p class="text-xs font-semibold border-b border-gray-200 text-center">
              Order items
            </p>
            <div class="space-y-3 border-b border-gray-200 ">
              <div class="flex items-center space-x-4 py-3">
                <img src="images/jordan.jpg" class="w-6 h-6 object-cover" alt="" />
                <div class="flex flex-col">
                  <p class="text-xs text-gray-500 font-semibold">
                    Air Jordan 4 Retro
                  </p>
                  <p class="font-medium text-sm">1 * $1,590.00</p>
                </div>
              </div>
              <div class="flex items-center space-x-4 py-3">
                <img src="images/jordan.jpg" class="w-6 h-6 object-cover" alt="" />
                <div class="flex flex-col">
                  <p class="text-xs text-gray-500 font-semibold">
                    Air Jordan 4 Retro
                  </p>
                  <p class="font-medium text-sm">1 * $1,590.00</p>
                </div>
              </div>
            </div>
            <div class="flex items-center justify-between py-2">
              <p class="text-xs text-gray-500">Total:</p>
              <p class="font-semibold text-sm">$3,180.00</p>
            </div>
          </div>
        </div>
      `;
            messageBox.classList.remove("hidden");
          });
        });

        closeMessageBox.addEventListener("click", function () {
          messageBox.classList.add("hidden");
        });

        window.addEventListener("click", function (event) {
          if (event.target === messageBox) {
            messageBox.classList.add("hidden");
          }
        });
      }

      displayPage(currentPage);

      prevButton.addEventListener("click", () => {
        if (currentPage > 1) {
          currentPage--;
          displayPage(currentPage);
          bindEllipsisClickHandlers();
        }
      });

      nextButton.addEventListener("click", () => {
        if (currentPage < totalPages) {
          currentPage++;
          displayPage(currentPage);
          bindEllipsisClickHandlers();
        }
      });

      document.addEventListener("DOMContentLoaded", function () {
        bindEllipsisClickHandlers();
      });
    </script>
  </body>
</html>
